<!DOCTYPE html>
<html lange="en">
<head>
  <script
  type="text/javascript"
  src="https://sandbox.web.squarecdn.com/v1/square.js"
  ></script>
  
  <script>
  
  const appId = 'sandbox-sq0idb-zt_MrhrsH_FvU8sGDiWyiw';
  const locationId = 'L60S98YYWZ2NG';
  
  async function initializeCard(payments) {
    const card = await payments.card();
    await card.attach('#card-container');
    return card;
  }
  
  document.addEventListener('DOMContentLoaded', async function () {
    if (!window.Square) {
      throw new Error('Square.js failed to load properly');
    }
    // callback()
    // test.postMessage('Hello World being called from Javascript code');
    const payments = window.Square.payments(appId, locationId);
    let card;
    try {
      card = await initializeCard(payments);
    } catch (e) {
      console.error('Initializing Card failed', e);
      return;
    }
    
    // Step 5.2: create card payment
  });
  
  
</script>
 
<script>
  function callback() {
    //console.log(response);
    if (typeof test !== "undefined") {
      test.postMessage("merge boss");
    }
  }
</script>

<meta charset="utf-8" />
<title>Square Web Payments Quickstart</title>
<link href="app.css" rel="stylesheet" />
</head>

<body>
  <div style="width: 100px; justify-content: center;">
    <form id="payment-form">
        <div id="card-container"></div>
        <button onclick="callback()" id="card-button" type="button">Pay $1.00</button>
      </form>
      <div id="payment-status-container"></div>
  </div>
  
  
</body>
</html>